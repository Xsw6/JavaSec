# Dubbo （CVE-2020-1948）

漏洞影响：<=2.7.6

什么是RPC，可能类似RMI？
视频链接：https://www.bilibili.com/video/BV1Qv4y127B4/?spm_id_from=333.337.search-card.all.click&vd_source=ffa29603994e597f1f8a2562b25bcd08

环境搭建以及漏洞分析：https://www.anquanke.com/post/id/209251#h3-16

## 总结

再远程调用服务的过程中consumer将序列化数据发送给provider，provider会将其反序列化（利用的是hessian将其反序列化）。

这个漏洞感觉多要结合其他的依赖。并不算dubbo自身的漏洞吧？

## 漏洞修复

如果调用的方法不是$invoke或者$invokeAsync或者$echo就会抛出异常。
https://github.com/apache/dubbo/compare/dubbo-2.7.6...dubbo-2.7.7#diff-a32630b1035c586f6eae2d778e19fc172e986bb0be1d4bc642f8ee79df48ade0L131

但是本地我起的环境是可以打的。
不知道为什么？代码确实是写死抛出异常，但是仍能走到反序列化。

当然这个绕过也很简单，直接自定义上述方法即可。（虽然不自定义也能打...................）

