# CVE-2022-39198

这两篇文章写的很清楚

https://mp.weixin.qq.com/s?__biz=MzkyNDA5NjgyMg==&mid=2247494921&idx=1&sn=bbc62ee0b2ab4c044879faa184ede17a&chksm=c1d9ad50f6ae2446b6a33ae6206ea714f6c796432f5810c4a61bbc8cd5f668a25c1cbaae4f89&mpshare=1&scene=23&srcid=1229F1tzsZ8K98Pyca31NlKE&sharer_sharetime=1672307140694&sharer_shareid=24839d642488f66c87d327e0cf5b7e60#rd

https://xz.aliyun.com/t/11961

包括修复再类....但是如果是这样修复....或许有别的getter方法可以进行打呢？

到这里呢？dubbo这道题目我可能大体就明白了。

因为出题作者发现网上的资料大多都是利用jndi出网....于是选择了不出网，并且禁用了Xstring去调用toString。所以我们找到了一个可以命令执行的类，并且将jar包写入到文件夹中。

agent包：https://gist.github.com/yemoli/5b2f4abca69128f013b128d82110d37c

但是这里有个问题：我没有打成功的原因是，UNix这个类没有实现Serializable但是exp中又利用的Hessian2ObjectOutput，没办法设置所有类可以进行序列化.......于是就卡住了。于是我想着换成Hessian2Output试试？
但是下面又用到了writeUTF.....痛苦。（先放着吧....具体确实不知道怎么解决，或许可以手动改文件？）

